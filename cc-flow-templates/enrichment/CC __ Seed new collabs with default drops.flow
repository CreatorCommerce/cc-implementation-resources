6401f94c766cbb41b801d1a5742c6785f168ee189d4a4c130f679be9abfba08c:{"__metadata":{"version":0.1},"root":{"steps":[{"step_id":"d071bc10-8a65-11f0-88f8-0b6c3725d20a","step_position":[-760,0],"config_field_values":[],"task_id":"fa0550f6-ef7d-4210-b6d8-6c42169e5f86","task_version":"1.0","task_type":"TRIGGER","description":null,"note":null,"name":null},{"step_id":"35620940-8a66-11f0-88f8-0b6c3725d20a","step_position":[-360,0],"config_field_values":[{"config_field_id":"type","value":"creator"},{"config_field_id":"handle","value":"{{ccCreatorShopHandle}}"}],"task_id":"shopify::flow::fetch::metaobject","task_version":"v1","task_type":"ACTION","description":"Get all your CreatorCommerce data.","note":null,"name":"Get metaobject entry"},{"step_id":"49881e00-8a66-11f0-88f8-0b6c3725d20a","step_position":[20,0],"config_field_values":[{"config_field_id":"input","value":"query{\n  getMetaobjectEntry{\n    data\n  }\n}"},{"config_field_id":"script","value":"export default function main(input) {\n  const parsed = JSON.parse(input.getMetaobjectEntry.data);\n\n  const drops = parsed[\"cc-creator-drops\"] || [];\n  const dropsExist = drops.length > 0;\n\n  const collabId = parsed[\"cc-collab-id\"];\n  const seedDropsCreated = parsed[\"cc-seed-drops-created\"];\n\n  // normalize to boolean\n  const truthyValues = [\"t\", \"y\", \"yes\", \"true\"];\n  const isCreated = truthyValues.includes(String(seedDropsCreated).toLowerCase());\n\n  const onboardingPhoto = parsed[\"cc-cc-onboarding-photo\"];\n  const photoUrl = onboardingPhoto?.url || \"\";\n\n  const shopDescription = parsed[\"cc-creator-shop-description\"];\n\n  return {\n    areThereDrops: dropsExist,\n    seedDropsCreated: isCreated,\n    collabId: collabId,\n    onboardingPhoto: photoUrl,\n    shopDescription: shopDescription\n  };\n}\n"},{"config_field_id":"output_schema","value":"\"\"\"\nThe output of Run Code\n\"\"\"\ntype Output {\n  \"\"\"\n  True if a drops exist\n  \"\"\"\n  areThereDrops: Boolean!\n  seedDropsCreated: Boolean!\n  collabId: String!\n  onboardingPhoto: String!\n  shopDescription: String!\n}"}],"task_id":"shopify::flow::run_code","task_version":"0.1","task_type":"ACTION","description":"Checks if there are drops, and returns a status plus various other fields for the flow. Extend on this code to pass more fields into the flow for use.","note":null,"name":"Run code"},{"step_id":"4d952fe0-8a68-11f0-88f8-0b6c3725d20a","step_position":[460,0],"config_field_values":[{"config_field_id":"condition","value":"{\"uuid\":\"216f27f2-a31c-11f0-8f57-d9d83c1a6347\",\"lhs\":{\"uuid\":\"981c01a0-9d42-11f0-bd56-85ca21fa8bdc\",\"parent_uuid\":\"216f27f2-a31c-11f0-8f57-d9d83c1a6347\",\"lhs\":{\"uuid\":\"998ccfb0-9d42-11f0-bd56-85ca21fa8bdc\",\"parent_uuid\":\"981c01a0-9d42-11f0-bd56-85ca21fa8bdc\",\"value\":\"runCode.areThereDrops\",\"comparison_value_type\":\"EnvironmentValue\",\"full_environment_path\":\"runCode.areThereDrops\"},\"rhs\":{\"uuid\":\"9b0c6ad0-9d42-11f0-bd56-85ca21fa8bdc\",\"parent_uuid\":\"981c01a0-9d42-11f0-bd56-85ca21fa8bdc\",\"value\":\"false\",\"comparison_value_type\":\"LiteralValue\"},\"value_type\":\"EnvironmentScalarDefinition:Boolean\",\"operator\":\"==\",\"operation_type\":\"Comparison\"},\"rhs\":{\"uuid\":\"1f8b4cc0-a31c-11f0-8f57-d9d83c1a6347\",\"parent_uuid\":\"216f27f2-a31c-11f0-8f57-d9d83c1a6347\",\"lhs\":{\"uuid\":\"216f27f0-a31c-11f0-8f57-d9d83c1a6347\",\"parent_uuid\":\"1f8b4cc0-a31c-11f0-8f57-d9d83c1a6347\",\"value\":\"runCode.seedDropsCreated\",\"comparison_value_type\":\"EnvironmentValue\",\"full_environment_path\":\"runCode.seedDropsCreated\"},\"rhs\":{\"uuid\":\"21d3b620-a31c-11f0-8f57-d9d83c1a6347\",\"parent_uuid\":\"1f8b4cc0-a31c-11f0-8f57-d9d83c1a6347\",\"value\":\"false\",\"comparison_value_type\":\"LiteralValue\"},\"value_type\":\"EnvironmentScalarDefinition:Boolean\",\"operator\":\"==\",\"operation_type\":\"Comparison\"},\"operator\":\"AND\",\"operation_type\":\"LogicalExpression\"}"}],"task_id":"shopify::flow::condition","task_version":"0.1","task_type":"CONDITION","description":"Checks if there are no drops & the seed status, and proceeds if appropriate.","note":null,"name":null},{"step_id":"bbfe1a40-9d42-11f0-bd56-85ca21fa8bdc","step_position":[1280,180],"config_field_values":[{"config_field_id":"method","value":"POST"},{"config_field_id":"url","value":"{{shop.url}}/api/mcp"},{"config_field_id":"headers","value":"[[\"Content-Type\",\"application/json\"]]"},{"config_field_id":"body","value":"{\n    \"jsonrpc\":\"2.0\",\n    \"id\": 2,\n    \"method\": \"tools/call\",\n    \"params\" : {\n        \"name\": \"search_shop_catalog\",\n        \"arguments\": {\n            \"query\": \"Can you search for {{runCode5.text}}\",\n            \"limit\":15,\n            \"context\": \"Customer prefers a diverse set of products across categories\"\n        }\n    }\n}"},{"config_field_id":"on_client_error","value":"retry"},{"config_field_id":"on_server_error","value":"retry"}],"task_id":"shopify::flow::send_http","task_version":"2.0","task_type":"ACTION","description":"Gets product recommendations from the Shopify MCP.","note":null,"name":"Send HTTP request"},{"step_id":"bfe93d80-9d4a-11f0-bd56-85ca21fa8bdc","step_position":[3420,220],"config_field_values":[{"config_field_id":"method","value":"POST"},{"config_field_id":"url","value":"https://unified-api.creatorcommerce.shop/creators/collabs/{{runCode.collabId}}/drops"},{"config_field_id":"headers","value":"[[\"x-channel-access-token\",\"{{secrets.ccApiKey}}\"],[\"Content-Type\",\"application/json\"]]"},{"config_field_id":"body","value":"{\n    \"title\": \"{{runCode6.titleText}}\",\n    \"description\": \"{{runCode6.descriptionText}}\",\n    \"products\":\n{{runCode3.productList}}\n}"},{"config_field_id":"on_client_error","value":"retry"},{"config_field_id":"on_server_error","value":"retry"}],"task_id":"shopify::flow::send_http","task_version":"2.0","task_type":"ACTION","description":"Make drop via API.","note":null,"name":"Send HTTP request (1)"},{"step_id":"e8bca2f0-9d4b-11f0-bd56-85ca21fa8bdc","step_position":[1640,180],"config_field_values":[{"config_field_id":"input","value":"query{\n  sendHttpRequest{\n   body\n  }\n}"},{"config_field_id":"script","value":"export default function main(input) {\n  const parsed = JSON.parse(input.sendHttpRequest.body);\n\n  // Extract the raw string of products from the result.content\n  const rawProducts = parsed.result?.content?.[0]?.text;\n  if (!rawProducts) {\n    return { productList: \"[]\" };\n  }\n\n  // Parse the actual JSON string containing products\n  const productsData = JSON.parse(rawProducts);\n\n  // Map out product IDs (strip Shopify's gid prefix)\n  const productList = productsData.products.map(p => {\n    const cleanId = p.product_id.replace(\"gid://shopify/Product/\", \"\");\n    return { id: cleanId };\n  });\n\n  return {\n    productList: JSON.stringify(productList, null, 2)\n  };\n}"},{"config_field_id":"output_schema","value":"\"The output of Run Code\"\ntype Output {\n  \"The message returned by the script\"\n  productList: String!\n}"}],"task_id":"shopify::flow::run_code","task_version":"0.1","task_type":"ACTION","description":"Normalize product response for CreatorCommerce.","note":null,"name":"Run code (3)"},{"step_id":"b9eec5a0-9d6b-11f0-b242-d3391fd248f5","step_position":[2000,180],"config_field_values":[{"config_field_id":"prompt","value":"Give me a product collection title based on the themes below:\n{{runCode.shopDescription}}\n{{sendHttpRequest.body}}\n\nReturn only the title of a collection curated around the concepts above by using your best judgement, do not include any additional text, quotes or content."},{"config_field_id":"model","value":"gpt-4o-mini"},{"config_field_id":"suffix","value":""},{"config_field_id":"max_tokens","value":"256"},{"config_field_id":"temperature","value":"0.7"},{"config_field_id":"top_p","value":"1"},{"config_field_id":"stop","value":""},{"config_field_id":"presence_penalty","value":"0"},{"config_field_id":"frequency_penalty","value":"0"},{"config_field_id":"logit_bias","value":""}],"task_id":"b673868d-0ee5-431e-9449-7584e81269c0","task_version":"0.1","task_type":"ACTION","description":"Create a drop title.","note":null,"name":"Generate text"},{"step_id":"fa2055d0-9d6b-11f0-b242-d3391fd248f5","step_position":[2380,180],"config_field_values":[{"config_field_id":"prompt","value":"Give me a collection description that describes interior design products based on the context below:\n{{runCode.shopDescription}}\n{{sendHttpRequest.body}}\n\nReturn only the description limited to 250 characters max using your best judgement, do not include any additional text or content."},{"config_field_id":"model","value":"gpt-4o-mini"},{"config_field_id":"suffix","value":""},{"config_field_id":"max_tokens","value":"256"},{"config_field_id":"temperature","value":"0.7"},{"config_field_id":"top_p","value":"1"},{"config_field_id":"stop","value":""},{"config_field_id":"presence_penalty","value":"0"},{"config_field_id":"frequency_penalty","value":"0"},{"config_field_id":"logit_bias","value":""}],"task_id":"b673868d-0ee5-431e-9449-7584e81269c0","task_version":"0.1","task_type":"ACTION","description":"Create a drop description.","note":null,"name":"Generate text (1)"},{"step_id":"96a1d630-9d6d-11f0-af40-8fcb2a8b4cce","step_position":[1280,580],"config_field_values":[{"config_field_id":"prompt","value":"Distill all the context below into 3 search terms I can use to find products for someone. Try simpler search terms without filter names (e.g. \"wool\" instead of \"wool material\"). Return only the search terms in a comma separated list:\n\n{{runCode.shopDescription}}\n\nReturn only the search terms by using your best judgement, do not include any additional text or content. Keep terms below 25 characters."},{"config_field_id":"model","value":"gpt-4o-mini"},{"config_field_id":"suffix","value":""},{"config_field_id":"max_tokens","value":"256"},{"config_field_id":"temperature","value":"0.7"},{"config_field_id":"top_p","value":"1"},{"config_field_id":"stop","value":""},{"config_field_id":"presence_penalty","value":"0"},{"config_field_id":"frequency_penalty","value":"0"},{"config_field_id":"logit_bias","value":""}],"task_id":"b673868d-0ee5-431e-9449-7584e81269c0","task_version":"0.1","task_type":"ACTION","description":"Create MCP search terms using context from the Creator.","note":null,"name":"Generate text (2)"},{"step_id":"8f0f1040-9d7c-11f0-b2f9-e1633e0ff68f","step_position":[1280,400],"config_field_values":[{"config_field_id":"input","value":"query{\n  generateText2{\n    text\n  }\n}"},{"config_field_id":"script","value":"export default function main(input) {\n  const raw = input.generateText2.text || \"\";\n\n  // Normalize invisible characters\n  const normalize = (str) =>\n    str.replace(/\\u00A0/g, \" \")        // NBSP → space\n       .replace(/[\\u200B-\\u200D\\uFEFF]/g, \"\"); // zero-width chars\n\n  const clean = normalize(raw);\n\n  return {\n    // JSON.stringify will escape quotes, slashes, newlines, etc.\n    // slice(1, -1) removes the surrounding quotes that stringify adds\n    text: JSON.stringify(clean).slice(1, -1),\n  };\n}"},{"config_field_id":"output_schema","value":"\"The output of Run Code\"\ntype Output {\n  \"The text returned by the script\"\n  text: String!\n}"}],"task_id":"shopify::flow::run_code","task_version":"0.1","task_type":"ACTION","description":"Clean up search terms.","note":null,"name":"Run code (5)"},{"step_id":"6cb46580-9d7d-11f0-b2f9-e1633e0ff68f","step_position":[2700,180],"config_field_values":[{"config_field_id":"input","value":"query{\n  generateText{\n    text\n  }\n   generateText1{\n    text\n  }\n}"},{"config_field_id":"script","value":"export default function main(input) {\n  const rawTitle = input.generateText.text || \"\";\n  const rawDescription = input.generateText1.text || \"\";\n\n  // Normalize invisible chars\n  const normalize = (str) =>\n    str.replace(/\\u00A0/g, \" \")        // NBSP → space\n       .replace(/[\\u200B-\\u200D\\uFEFF]/g, \"\"); // zero-width chars\n\n  const cleanTitle = normalize(rawTitle);\n  const cleanDescription = normalize(rawDescription);\n\n  return {\n    // JSON.stringify escapes safely, but we strip the surrounding quotes\n    titleText: JSON.stringify(cleanTitle).slice(1, -1),\n    descriptionText: JSON.stringify(cleanDescription).slice(1, -1),\n  };\n}"},{"config_field_id":"output_schema","value":"\"The output of Run Code\"\ntype Output {\n  \"The title for the drop\"\n  titleText: String!\n  \"The description for the drop\"\n  descriptionText: String!\n}"}],"task_id":"shopify::flow::run_code","task_version":"0.1","task_type":"ACTION","description":"Clean up drop title and description.","note":null,"name":"Run code (6)"},{"step_id":"424861e0-9d80-11f0-a6f7-c9b159eb4f38","step_position":[3060,360],"config_field_values":[{"config_field_id":"message","value":"GPT GENERATIONS:\n\n{{generateText.text}}\n\n{{generateText1.text}}\n\nCODE CLEANUPS:\n\n{{runCode6.titleText}}\n\n{{runCode6.descriptionText}}"}],"task_id":"shopify::flow::print","task_version":"0.1","task_type":"ACTION","description":"Check data.","note":null,"name":null},{"step_id":"7d6178c0-9d80-11f0-a6f7-c9b159eb4f38","step_position":[1640,400],"config_field_values":[{"config_field_id":"message","value":"GPT GENERATION:\n\n{{generateText2.text}}\n\nCODE CLEANUP:\n\n{{runCode5.text}}"}],"task_id":"shopify::flow::print","task_version":"0.1","task_type":"ACTION","description":"Check data.","note":null,"name":null},{"step_id":"32615030-9d9d-11f0-97d0-cd91e0fec336","step_position":[1640,600],"config_field_values":[{"config_field_id":"method","value":"POST"},{"config_field_id":"url","value":"{{shop.url}}/api/mcp/"},{"config_field_id":"headers","value":"[[\"Content-Type\",\"application/json\"]]"},{"config_field_id":"body","value":"{\n    \"jsonrpc\":\"2.0\",\n    \"id\": 2,\n    \"method\": \"tools/call\",\n    \"params\" : {\n        \"name\": \"search_shop_catalog\",\n        \"arguments\": {\n            \"query\": \"{{runCode8.text}}\",\n            \"limit\":15,\n            \"context\": \"Customer prefers a diverse set of furniture products\"\n        }\n    }\n}"},{"config_field_id":"on_client_error","value":"retry"},{"config_field_id":"on_server_error","value":"retry"}],"task_id":"shopify::flow::send_http","task_version":"2.0","task_type":"ACTION","description":"Gets product recommendations from the Shopify MCP.","note":null,"name":"Send HTTP request (2)"},{"step_id":"4d7e8950-9d9d-11f0-97d0-cd91e0fec336","step_position":[2000,600],"config_field_values":[{"config_field_id":"input","value":"query{\n  sendHttpRequest2{\n   body\n  }\n}"},{"config_field_id":"script","value":"export default function main(input) {\n  const parsed = JSON.parse(input.sendHttpRequest2.body);\n\n  // Extract the raw string of products from the result.content\n  const rawProducts = parsed.result?.content?.[0]?.text;\n  if (!rawProducts) {\n    return { productList: \"[]\" };\n  }\n\n  // Parse the actual JSON string containing products\n  const productsData = JSON.parse(rawProducts);\n\n  // Map out product IDs (strip Shopify's gid prefix)\n  const productList = productsData.products.map(p => {\n    const cleanId = p.product_id.replace(\"gid://shopify/Product/\", \"\");\n    return { id: cleanId };\n  });\n\n  return {\n    productList: JSON.stringify(productList, null, 2)\n  };\n}"},{"config_field_id":"output_schema","value":"\"The output of Run Code\"\ntype Output {\n  \"The message returned by the script\"\n  productList: String!\n}"}],"task_id":"shopify::flow::run_code","task_version":"0.1","task_type":"ACTION","description":"Normalize product response for CreatorCommerce.","note":null,"name":"Run code (7)"},{"step_id":"769f8f00-9d9d-11f0-97d0-cd91e0fec336","step_position":[2760,600],"config_field_values":[{"config_field_id":"method","value":"POST"},{"config_field_id":"url","value":"https://unified-api.creatorcommerce.shop/creators/collabs/{{runCode.collabId}}/drops"},{"config_field_id":"headers","value":"[[\"x-channel-access-token\",\"{{secrets.ccApiKey}}\"],[\"Content-Type\",\"application/json\"]]"},{"config_field_id":"body","value":"{\n    \"title\": \"More picks\",\n    \"description\": \"\",\n    \"products\":\n{{runCode7.productList}}\n}"},{"config_field_id":"on_client_error","value":"retry"},{"config_field_id":"on_server_error","value":"retry"}],"task_id":"shopify::flow::send_http","task_version":"2.0","task_type":"ACTION","description":"Make drop via API with a hardcoded title and description.","note":null,"name":"Send HTTP request (3)"},{"step_id":"cb2521c0-9d9d-11f0-8d5d-33d5db1b2454","step_position":[3040,20],"config_field_values":[{"config_field_id":"method","value":"POST"},{"config_field_id":"url","value":"https://unified-api.creatorcommerce.shop/creators/collabs/{{runCode.collabId}}?myshopify_domain={{shop.myshopifyDomain}}"},{"config_field_id":"headers","value":"[[\"x-channel-access-token\",\"{{secrets.ccApiKey}}\"],[\"Content-Type\",\"application/json\"]]"},{"config_field_id":"body","value":"{\n\"myshopifyDomain\": \"{{shop.myshopifyDomain}}\",\n\"profilePicture\":\"{{runCode.onboardingPhoto}}\",\n\"custom\": {\n\"cc-about-section-description\":\"{{runCode.shopDescription}}\",\n\"cc-seed-drops-created\":\"T\"\n}\n}"},{"config_field_id":"on_client_error","value":"retry"},{"config_field_id":"on_server_error","value":"retry"}],"task_id":"shopify::flow::send_http","task_version":"2.0","task_type":"ACTION","description":"Update the creator with any additional information to propagate across other fields.","note":null,"name":"Send HTTP request (4)"},{"step_id":"e76abdd0-9fd8-11f0-9dfb-ab704b956d89","step_position":[1280,740],"config_field_values":[{"config_field_id":"prompt","value":"Distill all the context below into 2 search term I can use to find products for someone. Try simpler search terms without filter names (e.g. \"wool\" instead of \"wool material\"). Return only the search terms in a comma separated list:\n\n{{runCode.shopDescription}}\n\nReturn only the search terms by using your best judgement, do not include any additional text or content. Keep terms below 20 characters."},{"config_field_id":"model","value":"gpt-4o-mini"},{"config_field_id":"suffix","value":""},{"config_field_id":"max_tokens","value":"256"},{"config_field_id":"temperature","value":"0.7"},{"config_field_id":"top_p","value":"1"},{"config_field_id":"stop","value":""},{"config_field_id":"presence_penalty","value":"0"},{"config_field_id":"frequency_penalty","value":"0"},{"config_field_id":"logit_bias","value":""}],"task_id":"b673868d-0ee5-431e-9449-7584e81269c0","task_version":"0.1","task_type":"ACTION","description":"Create MCP search terms using context from the Creator. Remove the rest of this branch if you want only 1 default collection, this branch shows how to make an additional default drop.","note":null,"name":"Generate text (3)"},{"step_id":"0b732320-9fd9-11f0-9dfb-ab704b956d89","step_position":[1640,840],"config_field_values":[{"config_field_id":"input","value":"query{\n  generateText3{\n    text\n  }\n}"},{"config_field_id":"script","value":"export default function main(input) {\n  const raw = input.generateText3.text || \"\";\n\n  // Normalize invisible characters\n  const normalize = (str) =>\n    str.replace(/\\u00A0/g, \" \")        // NBSP → space\n       .replace(/[\\u200B-\\u200D\\uFEFF]/g, \"\"); // zero-width chars\n\n  const clean = normalize(raw);\n\n  return {\n    // JSON.stringify will escape quotes, slashes, newlines, etc.\n    // slice(1, -1) removes the surrounding quotes that stringify adds\n    text: JSON.stringify(clean).slice(1, -1),\n  };\n}"},{"config_field_id":"output_schema","value":"\"The output of Run Code\"\ntype Output {\n  \"The text returned by the script\"\n  text: String!\n}"}],"task_id":"shopify::flow::run_code","task_version":"0.1","task_type":"ACTION","description":"Clean up search terms.","note":null,"name":"Run code (8)"},{"step_id":"8789d970-a31e-11f0-aa01-4340384ced43","step_position":[2360,600],"config_field_values":[{"config_field_id":"condition","value":"{\"uuid\":\"8a387eb2-a31e-11f0-aa01-4340384ced43\",\"lhs\":{\"uuid\":\"8909e9c0-a31e-11f0-aa01-4340384ced43\",\"parent_uuid\":\"8a387eb2-a31e-11f0-aa01-4340384ced43\",\"lhs\":{\"uuid\":\"8a387eb0-a31e-11f0-aa01-4340384ced43\",\"parent_uuid\":\"8909e9c0-a31e-11f0-aa01-4340384ced43\",\"value\":\"runCode7.productList\",\"comparison_value_type\":\"EnvironmentValue\",\"full_environment_path\":\"runCode7.productList\"},\"rhs\":{\"uuid\":\"b2386780-a31f-11f0-9bfa-4bb3532f7551\",\"parent_uuid\":\"8909e9c0-a31e-11f0-aa01-4340384ced43\",\"value\":\"\\\"id\\\"\",\"comparison_value_type\":\"LiteralValue\"},\"value_type\":\"EnvironmentScalarDefinition:String\",\"operator\":\"include?\",\"operation_type\":\"Comparison\"},\"operator\":\"AND\",\"operation_type\":\"LogicalExpression\"}"}],"task_id":"shopify::flow::condition","task_version":"0.1","task_type":"CONDITION","description":"Proceed only if products were returned from the MCP.","note":null,"name":null},{"step_id":"baf79720-a31e-11f0-aa01-4340384ced43","step_position":[3060,180],"config_field_values":[{"config_field_id":"condition","value":"{\"uuid\":\"bf0222e2-a31e-11f0-aa01-4340384ced43\",\"lhs\":{\"uuid\":\"bca17690-a31e-11f0-aa01-4340384ced43\",\"parent_uuid\":\"bf0222e2-a31e-11f0-aa01-4340384ced43\",\"lhs\":{\"uuid\":\"bf0222e0-a31e-11f0-aa01-4340384ced43\",\"parent_uuid\":\"bca17690-a31e-11f0-aa01-4340384ced43\",\"value\":\"runCode3.productList\",\"comparison_value_type\":\"EnvironmentValue\",\"full_environment_path\":\"runCode3.productList\"},\"rhs\":{\"uuid\":\"bbee36b0-a31f-11f0-9bfa-4bb3532f7551\",\"parent_uuid\":\"bca17690-a31e-11f0-aa01-4340384ced43\",\"value\":\"\\\"id\\\"\",\"comparison_value_type\":\"LiteralValue\"},\"value_type\":\"EnvironmentScalarDefinition:String\",\"operator\":\"include?\",\"operation_type\":\"Comparison\"},\"operator\":\"AND\",\"operation_type\":\"LogicalExpression\"}"}],"task_id":"shopify::flow::condition","task_version":"0.1","task_type":"CONDITION","description":"Proceed only if products were returned from the MCP.","note":null,"name":null}],"links":[{"from_step_id":"35620940-8a66-11f0-88f8-0b6c3725d20a","from_port_id":"output","to_step_id":"49881e00-8a66-11f0-88f8-0b6c3725d20a","to_port_id":"input"},{"from_step_id":"49881e00-8a66-11f0-88f8-0b6c3725d20a","from_port_id":"output","to_step_id":"4d952fe0-8a68-11f0-88f8-0b6c3725d20a","to_port_id":"input"},{"from_step_id":"bbfe1a40-9d42-11f0-bd56-85ca21fa8bdc","from_port_id":"output","to_step_id":"e8bca2f0-9d4b-11f0-bd56-85ca21fa8bdc","to_port_id":"input"},{"from_step_id":"e8bca2f0-9d4b-11f0-bd56-85ca21fa8bdc","from_port_id":"output","to_step_id":"b9eec5a0-9d6b-11f0-b242-d3391fd248f5","to_port_id":"input"},{"from_step_id":"b9eec5a0-9d6b-11f0-b242-d3391fd248f5","from_port_id":"output","to_step_id":"fa2055d0-9d6b-11f0-b242-d3391fd248f5","to_port_id":"input"},{"from_step_id":"96a1d630-9d6d-11f0-af40-8fcb2a8b4cce","from_port_id":"output","to_step_id":"8f0f1040-9d7c-11f0-b2f9-e1633e0ff68f","to_port_id":"input"},{"from_step_id":"8f0f1040-9d7c-11f0-b2f9-e1633e0ff68f","from_port_id":"output","to_step_id":"bbfe1a40-9d42-11f0-bd56-85ca21fa8bdc","to_port_id":"input"},{"from_step_id":"fa2055d0-9d6b-11f0-b242-d3391fd248f5","from_port_id":"output","to_step_id":"6cb46580-9d7d-11f0-b2f9-e1633e0ff68f","to_port_id":"input"},{"from_step_id":"6cb46580-9d7d-11f0-b2f9-e1633e0ff68f","from_port_id":"output","to_step_id":"424861e0-9d80-11f0-a6f7-c9b159eb4f38","to_port_id":"input"},{"from_step_id":"8f0f1040-9d7c-11f0-b2f9-e1633e0ff68f","from_port_id":"output","to_step_id":"7d6178c0-9d80-11f0-a6f7-c9b159eb4f38","to_port_id":"input"},{"from_step_id":"32615030-9d9d-11f0-97d0-cd91e0fec336","from_port_id":"output","to_step_id":"4d7e8950-9d9d-11f0-97d0-cd91e0fec336","to_port_id":"input"},{"from_step_id":"e76abdd0-9fd8-11f0-9dfb-ab704b956d89","from_port_id":"output","to_step_id":"0b732320-9fd9-11f0-9dfb-ab704b956d89","to_port_id":"input"},{"from_step_id":"0b732320-9fd9-11f0-9dfb-ab704b956d89","from_port_id":"output","to_step_id":"32615030-9d9d-11f0-97d0-cd91e0fec336","to_port_id":"input"},{"from_step_id":"6cb46580-9d7d-11f0-b2f9-e1633e0ff68f","from_port_id":"output","to_step_id":"cb2521c0-9d9d-11f0-8d5d-33d5db1b2454","to_port_id":"input"},{"from_step_id":"4d7e8950-9d9d-11f0-97d0-cd91e0fec336","from_port_id":"output","to_step_id":"8789d970-a31e-11f0-aa01-4340384ced43","to_port_id":"input"},{"from_step_id":"8789d970-a31e-11f0-aa01-4340384ced43","from_port_id":"true","to_step_id":"769f8f00-9d9d-11f0-97d0-cd91e0fec336","to_port_id":"input"},{"from_step_id":"6cb46580-9d7d-11f0-b2f9-e1633e0ff68f","from_port_id":"output","to_step_id":"baf79720-a31e-11f0-aa01-4340384ced43","to_port_id":"input"},{"from_step_id":"baf79720-a31e-11f0-aa01-4340384ced43","from_port_id":"true","to_step_id":"bfe93d80-9d4a-11f0-bd56-85ca21fa8bdc","to_port_id":"input"},{"from_step_id":"d071bc10-8a65-11f0-88f8-0b6c3725d20a","from_port_id":"output","to_step_id":"35620940-8a66-11f0-88f8-0b6c3725d20a","to_port_id":"input"},{"from_step_id":"4d952fe0-8a68-11f0-88f8-0b6c3725d20a","from_port_id":"true","to_step_id":"96a1d630-9d6d-11f0-af40-8fcb2a8b4cce","to_port_id":"input"},{"from_step_id":"4d952fe0-8a68-11f0-88f8-0b6c3725d20a","from_port_id":"true","to_step_id":"e76abdd0-9fd8-11f0-9dfb-ab704b956d89","to_port_id":"input"}],"patched_fields":[{"id":"0199c670-d455-7605-943e-20e326c4a6f0","handle":"ccBundleSummaries","field":"ccBundleSummaries","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc_bundle_summaries\"}","merchant_configured":false},{"id":"0199c670-d455-7597-aa40-4e6582ee57d7","handle":"ccChannelBrandkitDescription","field":"ccChannelBrandkitDescription","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-channel-brandkit-description\"}","merchant_configured":false},{"id":"0199c670-d455-7524-a3af-2ae2e08b9a59","handle":"ccChannelBrandkitPrimaryColor","field":"ccChannelBrandkitPrimaryColor","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-channel-brandkit-primary-color\"}","merchant_configured":false},{"id":"0199c670-d455-70ea-a3ad-61e5cb04a692","handle":"ccChannelBrandkitPrimaryLogo","field":"ccChannelBrandkitPrimaryLogo","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-channel-brandkit-primary-logo\"}","merchant_configured":false},{"id":"0199c670-d455-7fda-a694-0bd31b49eda1","handle":"ccChannelBrandkitTitle","field":"ccChannelBrandkitTitle","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-channel-brandkit-title\"}","merchant_configured":false},{"id":"0199c670-d455-7e8b-8a48-732d0329a298","handle":"ccCollabAffiliateCode","field":"ccCollabAffiliateCode","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-collab-affiliate-code\"}","merchant_configured":false},{"id":"0199c670-d455-7193-b366-4abd3680ee20","handle":"ccCollabAffiliateLink","field":"ccCollabAffiliateLink","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-collab-affiliate-link\"}","merchant_configured":false},{"id":"0199c670-d455-72bc-b897-afbcff864bff","handle":"ccCollabDiscountAmount","field":"ccCollabDiscountAmount","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-collab-discount-amount\"}","merchant_configured":false},{"id":"0199c670-d455-7699-baa7-fec6e3a51080","handle":"ccCollabDiscountCode","field":"ccCollabDiscountCode","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-collab-discount-code\"}","merchant_configured":false},{"id":"0199c670-d455-7d8e-8739-d3f744d6af4f","handle":"ccCollabDiscountType","field":"ccCollabDiscountType","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-collab-discount-type\"}","merchant_configured":false},{"id":"0199c670-d455-709d-9774-bd13892ecb06","handle":"ccCreatorCollection","field":"ccCreatorCollection","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-collection\"}","merchant_configured":false},{"id":"0199c670-d455-722d-b4db-ea92a3ae09c8","handle":"ccCreatorDrops","field":"ccCreatorDrops","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-drops\"}","merchant_configured":false},{"id":"0199c670-d455-71e5-8c06-c9a809364cbd","handle":"ccCreatorFirstName","field":"ccCreatorFirstName","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-first-name\"}","merchant_configured":false},{"id":"0199c670-d455-7ffe-87e4-02b80000a100","handle":"ccCreatorLastName","field":"ccCreatorLastName","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-last-name\"}","merchant_configured":false},{"id":"0199c670-d455-769e-b6ea-bc35170d2871","handle":"ccCreatorProducts","field":"ccCreatorProducts","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-products\"}","merchant_configured":false},{"id":"0199c670-d455-727e-b988-73b70fea0f45","handle":"ccCreatorProfilePicture","field":"ccCreatorProfilePicture","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-profile-picture\"}","merchant_configured":false},{"id":"0199c670-d455-72eb-a595-5572106677a3","handle":"ccCreatorShopDescription","field":"ccCreatorShopDescription","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-shop-description\"}","merchant_configured":false},{"id":"0199c670-d455-7dc5-ba82-a0ae5fcb8ff3","handle":"ccCreatorShopHandle","field":"ccCreatorShopHandle","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-shop-handle\"}","merchant_configured":false},{"id":"0199c670-d455-7115-be8c-7a4700823915","handle":"ccCreatorShopThemePrimaryColor","field":"ccCreatorShopThemePrimaryColor","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-shop-theme-primary-color\"}","merchant_configured":false},{"id":"0199c670-d455-7613-849c-9c6033126657","handle":"ccCreatorShopTitle","field":"ccCreatorShopTitle","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"cc-creator-shop-title\"}","merchant_configured":false},{"id":"0199c670-d455-7922-bf76-95da3ab3373e","handle":"data","field":"data","patched_type":"metaobject_3387687119","arguments":"{\"key\":\"data\"}","merchant_configured":false},{"id":"0199c670-d455-72a2-9b61-d74aead62649","handle":"ccChannelBrandkitDescription","field":"ccChannelBrandkitDescription","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-channel-brandkit-description\"}","merchant_configured":false},{"id":"0199c670-d456-761c-86b2-1c688fbb030c","handle":"ccChannelBrandkitPrimaryColor","field":"ccChannelBrandkitPrimaryColor","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-channel-brandkit-primary-color\"}","merchant_configured":false},{"id":"0199c670-d456-7969-b83c-397067c57774","handle":"ccChannelBrandkitPrimaryLogo","field":"ccChannelBrandkitPrimaryLogo","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-channel-brandkit-primary-logo\"}","merchant_configured":false},{"id":"0199c670-d456-75a2-b3a3-53ffd20d6f3f","handle":"ccChannelBrandkitTitle","field":"ccChannelBrandkitTitle","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-channel-brandkit-title\"}","merchant_configured":false},{"id":"0199c670-d456-71c2-b8bd-af2d8db9fabe","handle":"ccCollabAffiliateCode","field":"ccCollabAffiliateCode","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-collab-affiliate-code\"}","merchant_configured":false},{"id":"0199c670-d456-796c-a8f5-05402f39cae2","handle":"ccCollabAffiliateLink","field":"ccCollabAffiliateLink","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-collab-affiliate-link\"}","merchant_configured":false},{"id":"0199c670-d456-7b60-bec7-7fa1e2d3f2f8","handle":"ccCollabDiscountAmount","field":"ccCollabDiscountAmount","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-collab-discount-amount\"}","merchant_configured":false},{"id":"0199c670-d456-7584-adf1-7705e71c4fa8","handle":"ccCollabDiscountCode","field":"ccCollabDiscountCode","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-collab-discount-code\"}","merchant_configured":false},{"id":"0199c670-d456-785b-ae83-fadc271c94e4","handle":"ccCollabDiscountType","field":"ccCollabDiscountType","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-collab-discount-type\"}","merchant_configured":false},{"id":"0199c670-d456-7acd-a9bf-870f34ee0b19","handle":"ccCreatorCollection","field":"ccCreatorCollection","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-collection\"}","merchant_configured":false},{"id":"0199c670-d456-70fc-b289-1a4cd500ab03","handle":"ccCreatorDrops","field":"ccCreatorDrops","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-drops\"}","merchant_configured":false},{"id":"0199c670-d456-715a-8c0c-d510afbc00bd","handle":"ccCreatorFirstName","field":"ccCreatorFirstName","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-first-name\"}","merchant_configured":false},{"id":"0199c670-d456-7872-b676-2e8b472a3683","handle":"ccCreatorLastName","field":"ccCreatorLastName","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-last-name\"}","merchant_configured":false},{"id":"0199c670-d456-776d-9403-d1170e38b592","handle":"ccCreatorProducts","field":"ccCreatorProducts","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-products\"}","merchant_configured":false},{"id":"0199c670-d456-72b9-bde6-4354706c0013","handle":"ccCreatorProfilePicture","field":"ccCreatorProfilePicture","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-profile-picture\"}","merchant_configured":false},{"id":"0199c670-d456-727b-bd42-f8b1c5ffe4c5","handle":"ccCreatorShopDescription","field":"ccCreatorShopDescription","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-shop-description\"}","merchant_configured":false},{"id":"0199c670-d456-7f86-a63e-2fcdd33fded9","handle":"ccCreatorShopHandle","field":"ccCreatorShopHandle","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-shop-handle\"}","merchant_configured":false},{"id":"0199c670-d456-750c-9de5-43fb740e3b27","handle":"ccCreatorShopThemePrimaryColor","field":"ccCreatorShopThemePrimaryColor","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-shop-theme-primary-color\"}","merchant_configured":false},{"id":"0199c670-d456-75b4-b66c-eb14e7b38766","handle":"ccCreatorShopTitle","field":"ccCreatorShopTitle","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"cc-creator-shop-title\"}","merchant_configured":false},{"id":"0199c670-d456-7a47-aa49-be510223d84f","handle":"data","field":"data","patched_type":"metaobject_8220180767","arguments":"{\"key\":\"data\"}","merchant_configured":false}],"variables":[],"note":null,"workflow_name":"CC // Seed new collabs with default drops"}}