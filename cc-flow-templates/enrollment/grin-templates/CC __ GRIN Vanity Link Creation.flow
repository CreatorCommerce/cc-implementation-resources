9382ebfd7cd3299ad36f7d01b38d59359a1442f0e846bda8f13a8a6bb7b1982c:{"__metadata":{"version":0.1},"root":{"steps":[{"step_id":"2c85acb0-a7b2-11ef-b458-a5dfe29b491a","step_position":[900,1120],"config_field_values":[],"task_id":"fa0550f6-ef7d-4210-b6d8-6c42169e5f86","task_version":"1.0","task_type":"TRIGGER","description":null,"note":null,"name":null},{"step_id":"347a43e0-a7b2-11ef-b458-a5dfe29b491a","step_position":[1260,1120],"config_field_values":[{"config_field_id":"input","value":"query {\n  ccCreatorAffiliateUrl\n}\n"},{"config_field_id":"script","value":"export default function main({ccCreatorAffiliateUrl}) {\n  // Find the last slash and extract everything after it\n  const lastSlashIndex = ccCreatorAffiliateUrl.lastIndexOf(\"/\");\n\n  if (lastSlashIndex === -1 || lastSlashIndex === ccCreatorAffiliateUrl.length - 1) {\n    return { finalUrl: \"\" }; // No content after the last slash\n  }\n\n  const result = ccCreatorAffiliateUrl.substring(lastSlashIndex + 1);\n\n  return { finalUrl: result };\n}"},{"config_field_id":"output_schema","value":"\"The output of Run Code\"\ntype Output {\n  \"The message returned by the script\"\n  finalUrl: String!\n}\n"}],"task_id":"shopify::flow::run_code","task_version":"0.1","task_type":"ACTION","description":null,"note":null,"name":"Run code"},{"step_id":"8d9208f0-a7b2-11ef-b458-a5dfe29b491a","step_position":[1620,1120],"config_field_values":[{"config_field_id":"path","value":"{{runCode.finalUrl}}"},{"config_field_id":"target","value":"{{ccCreatorAffiliateUrl}}"},{"config_field_id":"overwrite_target","value":"true"}],"task_id":"shopify::admin::created_redirect_url","task_version":"0.1","task_type":"ACTION","description":null,"note":null,"name":null},{"step_id":"0399c950-a7c9-11ef-92ca-0b2279a692af","step_position":[1620,1300],"config_field_values":[{"config_field_id":"message","value":"{{ccCreatorAffiliateUrl}}\n{{runCode.finalUrl}}"}],"task_id":"shopify::flow::print","task_version":"0.1","task_type":"ACTION","description":null,"note":null,"name":null}],"links":[{"from_step_id":"2c85acb0-a7b2-11ef-b458-a5dfe29b491a","from_port_id":"output","to_step_id":"347a43e0-a7b2-11ef-b458-a5dfe29b491a","to_port_id":"input"},{"from_step_id":"347a43e0-a7b2-11ef-b458-a5dfe29b491a","from_port_id":"output","to_step_id":"8d9208f0-a7b2-11ef-b458-a5dfe29b491a","to_port_id":"input"},{"from_step_id":"347a43e0-a7b2-11ef-b458-a5dfe29b491a","from_port_id":"output","to_step_id":"0399c950-a7c9-11ef-92ca-0b2279a692af","to_port_id":"input"}],"patched_fields":[],"workflow_name":"CC // GRIN Vanity Link Creation"}}